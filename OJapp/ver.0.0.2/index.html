<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>OJapp Generator</title>

<style>
body{
  font-family: 'Helvetica', sans-serif;
  background:#ffffff;
  padding:30px;
  text-align:center;
  color:#444;
}

h1{
  font-size:28px;
  font-weight:800;
  margin-bottom:5px;
  background:linear-gradient(45deg,#45aaff,#ff6bd8);
  -webkit-background-clip:text;
  color:transparent;
}

.sub{
  font-size:14px;
  margin-bottom:30px;
  color:#666;
}

/* å…¥åŠ›æ¬„ */
input{
  width:80%;
  height:42px;
  font-size:15px;
  border-radius:10px;
  border:2px solid #e7e7e7;
  padding:0 12px;
  margin-bottom:20px;
}

/* ã·ã£ãã‚Šãƒœã‚¿ãƒ³ */
button{
  width:70%;
  height:55px;
  font-size:20px;
  font-weight:700;
  border:none;
  border-radius:14px;
  background:linear-gradient(145deg,#61c2ff,#ff74dd);
  color:white;
  box-shadow:0 5px 0 #d94fba;
  transition:.15s;
}
button:active{
  transform:translateY(5px);
  box-shadow:0 0 0 #d94fba;
}

/* çµæœæ  */
#result{
  display:none;
  margin-top:30px;
  font-size:16px;
  font-weight:600;
}
</style>
</head>

<body>

<h1>OJapp</h1>
<div class="sub">ãƒ›ãƒ¼ãƒ ã‚’å¤‰ãˆã‚‹ã€‚è‡ªåˆ†ã‚’å¤‰ãˆã‚‹ã€‚</div>

<input id="urlInput" placeholder="ã‚µã‚¤ãƒˆURLã‚’å…¥åŠ›" />

<button onclick="generateFiles()">âœ¨ ã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆ âœ¨</button>

<div id="result"></div>

<script>
function generateFiles(){
  let url = document.getElementById("urlInput").value.trim();

  if(!url){ alert("URLã‚’å…¥åŠ›ã—ã¦ã­ï¼"); return; }
  if(!url.startsWith("http")) url = "https://" + url;

  const htmlContent = `
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="apple-touch-icon" href="icon.png">
<link rel="manifest" href="manifest.json">
<title>My App</title>
</head>
<body>
<script>location.href="${url}";</script>
</body>
</html>
`;

  const manifest = `
{
  "name": "MyApp",
  "short_name": "App",
  "start_url": "${url}",
  "display": "standalone",
  "icons":[{"src":"icon.png","sizes":"192x192","type":"image/png"}]
}
`;

  const zip = new JSZip();
  zip.file("index.html", htmlContent);
  zip.file("manifest.json", manifest);

  fetch("OJapp_icon_192.png") // â† å¾Œã§å¥½ããªç”»åƒã«ç½®æ›ã§ãã‚‹
    .then(r => r.blob())
    .then(b => zip.file("icon.png", b))
    .then(() => zip.generateAsync({type:"blob"}))
    .then(content => saveAs(content,"OJapp_app.zip"));

  document.getElementById("result").innerHTML = "ZIPç”Ÿæˆã—ã¾ã—ãŸğŸ‰";
  result.style.display="block";
}
</script>

<!-- ZIPç”Ÿæˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒª -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

</body>
</html>
